<div class="" id="fee_info_edit">
  <div class="bg-top-image bg-bottom h-40 mb-6"></div>
  <div class="px-3 sm:px-7 mx-auto sm:max-w-screen-md">
    <div class="mx-auto mb-6 py-8 flex justify-center border-2 border-yellow-500 rounded-xl w-4/5 sm:w-1/2">
      <p class="text-xl mr-3">料金の合計</p>
      <p class="text-xl"><%= @fee_info.total_fee.to_s(:delimited, delimiter: ',') %>円</p>
    </div>
    <h3 class="mb-2"><i class="fas fa-play-circle text-yellow-500"></i> 料金内訳</h3>
    <table class="w-full border-collapse border-2 border-yellow-500  overflow-y-scroll sm:w-full sm:max-w-screen-md">
      <thead>
        <tr id="table_heading" class="">
          <th class="fee_info_table_head bg-yellow-400">税込料金</th>
          <th class="fee_info_table_head sm:hidden cell bg-yellow-600 bg-opacity-20">
            <p>ルーム</p>
            <p>料金</p>          
          </th>
          <th class="fee_info_table_head hidden sm:table-cell bg-yellow-600 bg-opacity-20">ルーム料金</th>
          <th class="fee_info_table_head sm:hidden bg-yellow-600 bg-opacity-20">
            <p>ドリンク</p>
            <p>料金</p>          
          </th>
          <th class="fee_info_table_head hidden sm:table-cell bg-yellow-600 bg-opacity-20">ドリンク料金</th>
          <th class="fee_info_table_head sm:hidden bg-yellow-600 bg-opacity-20">
            <p>お一人様</p>
            <p>あたり</p>          
          </th>
          <th class="fee_info_table_head hidden sm:table-cell bg-yellow-600 bg-opacity-20">お一人様あたり</th>
          <th class="fee_info_table_head sm:hidden bg-yellow-600 bg-opacity-20">
            <p>ご利用</p>
            <p>人数</p>          
          </th>
          <th class="fee_info_table_head hidden sm:table-cell bg-yellow-600 bg-opacity-20">ご利用人数</th>
          <th class="fee_info_table_head bg-yellow-600 bg-opacity-20">合計</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-b border-yellow-500  hover:bg-yellow-600 hover:bg-opacity-20">
          <% if @fee_info.number_of_adults > 0 %>
            <td class="border-2 border-yellow-500 px-2 py-1  text-green-500 text-center text-xs sm:text-sm font-black">一般</td>
            <td class="fee_info_table_body  text-green-500"><%= @fee_info.adult_main_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body  text-green-500"><%= @fee_info.adult_drink_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body  text-green-500"><%= @fee_info.adult_total_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body  text-green-500"><%= @fee_info.number_of_adults %>名</td>
            <td class="fee_info_table_body  text-green-500"><%= @fee_info.adult_fee_all.to_s(:delimited, delimiter: ',') %>円</td>
          <% else %>
            <td class="border-2 border-yellow-500 px-2 py-1  text-green-100 text-center text-xs sm:text-sm font-black">一般</td>
            <td class="fee_info_table_body  text-green-100"><%= @fee_info.adult_main_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body  text-green-100"><%= @fee_info.adult_drink_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body  text-green-100"><%= @fee_info.adult_total_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body  text-green-100"><%= @fee_info.number_of_adults %>名</td>
            <td class="fee_info_table_body  text-green-100"><%= @fee_info.adult_fee_all.to_s(:delimited, delimiter: ',') %>円</td>
          <% end %>
        </tr>
        <tr class="border-b border-yellow-500  hover:bg-yellow-600 hover:bg-opacity-10">
          <% if @fee_info.number_of_students > 0 %>
            <td class="border-2 border-yellow-500 px-2 py-1 text-blue-500 text-center text-xs sm:text-sm font-black">学生</td>
            <td class="fee_info_table_body text-blue-500"><%= @fee_info.student_main_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-blue-500"><%= @fee_info.student_drink_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-blue-500"><%= @fee_info.student_total_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-blue-500"><%= @fee_info.number_of_students %>名</td>
            <td class="fee_info_table_body text-blue-500"><%= @fee_info.student_fee_all.to_s(:delimited, delimiter: ',') %>円</td>
          <% else %>
            <td class="border-2 border-yellow-500 px-2 py-1 text-blue-500 text-center text-xs sm:text-sm font-black">学生</td>
            <td class="fee_info_table_body text-blue-100"><%= @fee_info.student_main_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-blue-100"><%= @fee_info.student_drink_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-blue-100"><%= @fee_info.student_total_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-blue-100"><%= @fee_info.number_of_students %>名</td>
            <td class="fee_info_table_body text-blue-100"><%= @fee_info.student_fee_all.to_s(:delimited, delimiter: ',') %>円</td>
          <% end %>
        </tr>
        <tr class="border-b border-yellow-500  hover:bg-yellow-600 hover:bg-opacity-10">
          <% if @fee_info.number_of_seniors > 0 %>
            <td class="border-2 border-yellow-500 px-2 py-1 text-yellow-900 text-center text-xs sm:text-sm font-black">シニア</td>
            <td class="fee_info_table_body text-yellow-900"><%= @fee_info.senior_main_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-yellow-900"><%= @fee_info.senior_drink_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-yellow-900"><%= @fee_info.senior_total_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-yellow-900"><%= @fee_info.number_of_seniors %>名</td>
            <td class="fee_info_table_body text-yellow-900"><%= @fee_info.senior_fee_all.to_s(:delimited, delimiter: ',') %>円</td>
          <% else %>
            <td class="border-2 border-yellow-500 px-2 py-1 text-yellow-900 text-center text-xs sm:text-sm font-black">シニア</td>
            <td class="fee_info_table_body text-yellow-100"><%= @fee_info.senior_main_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-yellow-100"><%= @fee_info.senior_drink_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-yellow-100"><%= @fee_info.senior_total_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-yellow-100"><%= @fee_info.number_of_seniors %>名</td>
            <td class="fee_info_table_body text-yellow-100"><%= @fee_info.senior_fee_all.to_s(:delimited, delimiter: ',') %>円</td>
          <% end %>        
        </tr>
        <tr class="border-b border-yellow-500 hover:bg-yellow-600 hover:bg-opacity-10">
          <% if @fee_info.number_of_children > 0 %>
            <td class="border-2 border-yellow-500 px-2 py-1 text-red-500 text-center text-xs sm:text-sm font-black">小学生</td>
            <td class="fee_info_table_body text-red-500"><%= @fee_info.child_main_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-red-500"><%= @fee_info.child_drink_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-red-500"><%= @fee_info.child_total_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-red-500"><%= @fee_info.number_of_children %>名</td>
            <td class="fee_info_table_body text-red-500"><%= @fee_info.child_fee_all.to_s(:delimited, delimiter: ',') %>円</td>
          <% else %>
            <td class="border-2 border-yellow-500 px-2 py-1 text-red-500 text-center text-xs sm:text-sm font-black">小学生</td>
            <td class="fee_info_table_body text-red-100"><%= @fee_info.child_main_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-red-100"><%= @fee_info.child_drink_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-red-100"><%= @fee_info.child_total_fee.to_s(:delimited, delimiter: ',') %>円</td>
            <td class="fee_info_table_body text-red-100"><%= @fee_info.number_of_children %>名</td>
            <td class="fee_info_table_body text-red-100"><%= @fee_info.child_fee_all.to_s(:delimited, delimiter: ',') %>円</td>
          <% end %>
        </tr>
      </tbody>
    </table>
    <div class="text-xxs sm:text-xs mt-2">
      <p><i class="far fa-check-circle text-yellow-500 mr-1 sm:mr-2"></i>学生/シニア料金はドリンクバー無料です。</p>
      <p><i class="far fa-check-circle text-yellow-500 mr-1 sm:mr-2"></i>昼料金/夜料金は19時を超えたご利用分から切り替わります。</p>
      <p><i class="far fa-check-circle text-yellow-500 mr-1 sm:mr-2"></i>実際のチェックイン時間によって、誤差が発生する場合がございます。</p>
    </div>
  </div>
</div>

<div class="sm:max-w-screen-md sm:mx-auto px-1 sm:px-7" id="fee_info_wrap">
  <h3 class="mt-8 ml-3 sm:ml-0"><i class="fas fa-play-circle text-yellow-500 mr-1"></i>条件を変えて計算する</h3>
  <div class="mx-3 my-2 px-1 py-1 sm:max-w-screen-lg sm:mx-auto  border-2 bg-white border-yellow-500 text-sm rounded-2xl">
    <%= form_with model: @fee_info, local: true do |f| %>
      <div class="px-3 pt-4 pb-2 sm:px-2  sm:pt-3 sm:pb-2 rounded hover:bg-yellow-600 hover:bg-opacity-10">
        <div class="sm:flex items-center mb-2">
          <p class="text-base sm:text-sm bg-yellow-500 px-2 py-1 rounded-lg font-black mb-2 sm:mb-1 sm:mr-0.5 text-white">STEP 1</p>
          <p class="text-base sm:text-sm px-2 mb-2">会員登録はされていますか？</p>
        </div>
        <div class="mb-1 sm:flex flex-wrap px-2">
          <div class="flex items-center mr-5 mb-1">
            <%= f.radio_button :div_member, :member %>
            <%= f.label :会員登録済みor店頭で登録予定, class: "ml-1 text-red-500" %>
          </div>
          <div class="flex items-center mb-1">
            <%= f.radio_button :div_member, :other %>
            <%= f.label :会員登録の予定なし, class: "ml-1" %>
          </div>
        </div>
        <div>
          <p class="text-xs px-2">※アプリ/LINE/各種会員カード</p>
          <p class="text-xs px-2 mb-2 sm:mb-1">※受付でLINEの友達登録での入会が簡単にできます</p>
        </div>
      </div>
      <div class="px-3 pt-4 pb-1 sm:px-2 sm:pt-3 sm:pb-2 rounded-md hover:bg-yellow-600 hover:bg-opacity-10 ">
        <div class="sm:flex items-center mb-3 sm:mb-2">
          <p class="text-base sm:text-sm bg-yellow-500 px-2 py-1 rounded-lg font-black mb-2 sm:mr-0.5 text-white">STEP 2</p>
          <p class="text-base sm:text-sm px-2 sm:mb-2">ご利用人数を入力してください</p>
        </div>
        <div class="flex flex-wrap w-full px-2 mb-2 sm:mb-1">
          <div class="flex items-end w1/4 mr-6 mb-2 sm:mb-1 text-xs" id="fee_info_input">
            <%= f.label :一般, class: "text-green-500 font-black" %><span>:</span>
            <%= f.text_field :number_of_adults, required: true, class: "w1/3 mx-1", id: "num_ad"%><span>名</span>
          </div>
          <div class="flex items-end w1/4 mr-6 mb-2 sm:mb-1 text-xs" id="fee_info_input">
            <%= f.label :学生, class: "text-blue-500 font-black"  %><span>:</span>
            <%= f.text_field :number_of_students, required: true, class: "mx-1", id: "num_st"%><span>名</span>            
          </div>
          <div class="flex items-end w1/4 mr-6 mb-2 sm:mb-1 text-xs" id="fee_info_input">
            <%= f.label :シニア, class: "text-yellow-900 font-black"  %><span>:</span>
            <%= f.text_field :number_of_seniors, required: true, class: "mx-1", id: "num_se"%><span>名</span>
          </div>
          <div class="flex items-end w1/4 mr-6 mb-2 sm:mb-1 text-xs" id="fee_info_input">
            <%= f.label :小学生, class: "text-red-500 font-black"  %><span>:</span>
            <%= f.text_field :number_of_children, required: true, class: "mx-1", id: "num_ch"%><span>名</span>
          </div>
        </div>
      </div>
      <div class="px-3 pt-4 pb-3 sm:px-2 sm:pt-3 sm:pb-2 rounded-md hover:bg-yellow-600 hover:bg-opacity-10 ">
        <div class="sm:flex items-center mb-3 sm:mb-2">
          <p class="text-base sm:text-sm bg-yellow-500 px-2 py-1 rounded-lg font-black mb-2 sm:mr-0.5 text-white">STEP 3</p>
          <p class="text-base sm:text-sm px-2 sm:mb-2">ご利用時間を選んでください</p>       
        </div>
        <div class="px-2" id="fee_info_select">
          <%= f.select :usage_time, FeeInfo.usage_times_i18n.invert %>
        </div>
        <div>
          <p class="text-xs px-2 mt-2 mb-1">※3時間を超える場合はフリータイムを選んでください</p>
        </div>
      </div>
      <div class="px-3 pt-4 pb-3 sm:px-2  sm:pt-3 sm:pb-2 rounded-md hover:bg-yellow-600 hover:bg-opacity-10 ">
        <div class="sm:flex items-center mb-3 sm:mb-2">
          <p class="text-base sm:text-sm bg-yellow-500 px-2 py-1 rounded-lg font-black mb-2 sm:mr-0.5 text-white">STEP 4</p>
          <p class="text-base sm:text-sm px-2 sm:mb-2">ドリンクコースを選んでください</p> 
        </div>
        <div class="px-2" id="fee_info_select">
          <%= f.select :drink_plan, FeeInfo.drink_plans_i18n.invert %>
        </div>    
        <div>
          <p class="text-xs px-2 mt-2">【ワンドリンク】</p>
          <p class="text-xs px-2 pl-3">お一人様1杯ドリンク(400円〜)のご注文が必要です</p>
          <p class="text-xs px-2 pl-3">ご注文の商品代金が加算されます</p>
        </div>        
        <div>
          <p class="text-xs px-2 mt-2">【ドリンクバー/アルコール飲み放題】</p>
          <p class="text-xs px-2 pl-3">2杯以上で各種飲み放題がお得です</p>
        </div>        
        <div>
          <p class="text-xs px-2 mt-2 pl-3 mb-1">※アルコール飲み放題コースの詳細は<a href="" class="text-yellow-500 underline font-black">こちら</a></p>
        </div>        
      </div>
      <div class="text-center">
        <%= f.submit "料金を計算する", class: "btn_fee_info" %>
      </div>
    <% end %>
  </div>
</div>
